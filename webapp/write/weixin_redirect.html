<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <title>微信登录测试</title>



  </head>
  <body style="background:#ccc">

    <div id="login_container"></div>

  </body>

  <!--<script src="http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script>-->

  <script src="js/jquery-1.11.2.min.js"></script>      <!-- jQuery -->
  <script type="text/javascript">
    $(function () {

      //方法二：
      (function ($) {
        $.getUrlParam = function (name) {
          var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
          var r = window.location.search.substr(1).match(reg);
          if (r != null) return unescape(r[2]); return null;
        }
      })(jQuery);

      //方法二：
      var code = $.getUrlParam('code');



      //alert(code);

      getAccess_Token(code);

    });

    function getAccess_Token(code){

      var aj = $.ajax( {
        url:'https://api.weixin.qq.com/sns/oauth2/access_token',
        data:{appid:"wx39bcc3b4179b8af6",secret:"",code:code,grant_type:"authorization_code"},
        type:'post',
        cache:false,
        dataType:'json',
        success:function(data) {

        },
        error : function() {
        }
      });

    }

//    //方法一：
//    //获取url中的参数
//    function getUrlParam(name) {
//      var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
//      var r = window.location.search.substr(1).match(reg);  //匹配目标参数
//      if (r != null) return unescape(r[2]); return null; //返回参数值
//    }


  </script>

</html>